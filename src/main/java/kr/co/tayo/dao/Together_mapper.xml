<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC   "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd"
>
<mapper namespace="kr.co.tayo.dao.TogetherDAO">

   <select id = "list" resultType="kr.co.tayo.dto.TogetherDTO">
      SELECT * FROM total where bo_num=4 ORDER BY num DESC limit 10 offset #{param1} 
   </select>
   
   <select id="totalCount" resultType="int">
      SELECT COUNT(num) FROM total where bo_num=4
   </select>

	<insert id="write" parameterType="hashmap">
		INSERT INTO total(title,mem_id,content,bo_num)
			VALUES(#{title},#{mem_id},#{content},4)
	</insert>
	
	<select id="detail" resultType="kr.co.tayo.dto.TogetherDTO" parameterType="String">
		SELECT * FROM total WHERE num=#{num}
	</select>
	
	<update id="upHit" parameterType="String">
		UPDATE total SET cnt=cnt+1
			WHERE num=#{num}
	</update>
	
	<update id="update" parameterType="hashmap">
		UPDATE total SET
			title=#{title}
			,content=#{content}
		WHERE num=#{num}
	</update>

	<delete id="delete"> 
		DELETE FROM total where num=#{param1}
	</delete>
	
	
	
</mapper>